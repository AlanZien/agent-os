# Staging Environment Configuration
# Copy this file to .env.staging and fill in your actual values
# NEVER commit .env.staging with real credentials

# Environment
ENV=staging
NODE_ENV=production

# ============================================================================
# DATABASE (Supabase)
# ============================================================================

DATABASE_URL=postgresql://postgres:[YOUR_STAGING_PASSWORD]@db.[YOUR_STAGING_PROJECT_REF].supabase.co:5432/postgres
SUPABASE_URL=https://[YOUR_STAGING_PROJECT_REF].supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.[YOUR_STAGING_ANON_KEY]
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.[YOUR_STAGING_SERVICE_KEY]

# ============================================================================
# API CONFIGURATION
# ============================================================================

API_URL=https://staging-api.yourproject.com
API_PORT=8000
FRONTEND_URL=https://staging.yourproject.com

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================

# IMPORTANT: Generate strong secrets for staging
# Use: openssl rand -base64 32
JWT_SECRET=[GENERATE_STRONG_SECRET_MIN_32_CHARS]
SESSION_SECRET=[GENERATE_STRONG_SECRET_MIN_32_CHARS]

# CORS
ALLOWED_ORIGINS=https://staging.yourproject.com,https://staging-api.yourproject.com

# Password Requirements (production-like)
MIN_PASSWORD_LENGTH=8

# ============================================================================
# THIRD-PARTY SERVICES
# ============================================================================

# Notion Integration (separate from production)
NOTION_API_KEY=[YOUR_STAGING_NOTION_API_KEY]
NOTION_DATABASE_ID=[YOUR_STAGING_NOTION_DATABASE_ID]

# Email Service
SENDGRID_API_KEY=[YOUR_STAGING_SENDGRID_KEY]
FROM_EMAIL=staging@yourproject.com

# File Storage
STORAGE_BUCKET=staging-uploads
MAX_FILE_SIZE=10485760  # 10MB

# ============================================================================
# LOGGING & DEBUGGING
# ============================================================================

LOG_LEVEL=info
DEBUG=false
VERBOSE_LOGGING=false

# Log aggregation (optional)
# LOGTAIL_SOURCE_TOKEN=[YOUR_STAGING_LOGTAIL_TOKEN]

# ============================================================================
# MONITORING & ERROR TRACKING
# ============================================================================

# Sentry (Error tracking)
# SENTRY_DSN=[YOUR_STAGING_SENTRY_DSN]
# SENTRY_ENVIRONMENT=staging

# Application Performance Monitoring
# NEW_RELIC_LICENSE_KEY=[YOUR_STAGING_NEW_RELIC_KEY]
# NEW_RELIC_APP_NAME=yourproject-staging

# ============================================================================
# FEATURE FLAGS (Staging)
# ============================================================================

ENABLE_EXPERIMENTAL_FEATURES=true  # Test new features in staging
ENABLE_DEBUG_ROUTES=false
ENABLE_MOCK_DATA=false

# ============================================================================
# SSL/TLS
# ============================================================================

FORCE_HTTPS=true
HTTPS_REDIRECT=true

# ============================================================================
# RATE LIMITING
# ============================================================================

RATE_LIMIT_WINDOW=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# OPTIONAL SERVICES
# ============================================================================

# Redis (for caching/sessions)
# REDIS_URL=[YOUR_STAGING_REDIS_URL]

# Stripe (use test mode)
# STRIPE_SECRET_KEY=sk_test_[YOUR_STAGING_STRIPE_KEY]
# STRIPE_PUBLISHABLE_KEY=pk_test_[YOUR_STAGING_STRIPE_KEY]
# STRIPE_WEBHOOK_SECRET=whsec_[YOUR_STAGING_WEBHOOK_SECRET]

# ============================================================================
# BACKUP & MAINTENANCE
# ============================================================================

# Automated backups
AUTO_BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=7
